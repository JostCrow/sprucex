---
interface Props {
    title: string;
}

const { title } = Astro.props;

import "../index.css";
---

<!doctype html>
<html
    lang="en"
    class="scroll-smooth"
    sx-data="{ darkMode: document.documentElement.classList.contains('dark') }"
    sx-local="darkMode"
    sx-class="{ 'dark': darkMode }"
>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>{title}</title>
        <link rel="icon" type="image/png" href="/favicon.png" />
        <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
        <script is:inline>
            window.SpruceXBoot = window.SpruceXBoot || {};
            window.SpruceXBoot.initTheme = function initTheme() {
                try {
                    const raw = localStorage.getItem("darkMode");
                    const parsed = raw ? JSON.parse(raw) : {};
                    document.documentElement.classList.toggle(
                        "dark",
                        !!parsed.darkMode,
                    );
                } catch {
                    document.documentElement.classList.remove("dark");
                }
            };
            window.SpruceXBoot.initTheme();
        </script>
        <script src="/dist/sprucex.js" is:inline></script>
        <script type="module" is:inline>
            import autoAnimate from "https://cdn.jsdelivr.net/npm/@formkit/auto-animate@0.8.2/+esm";
            window.autoAnimate = autoAnimate;
        </script>
        <link href="/prism.css" rel="stylesheet" />
        <link
            href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@400;500;600;700&family=IBM+Plex+Sans:wght@400;500;600;700&family=IBM+Plex+Mono:wght@400;500;600&display=swap"
            rel="stylesheet"
        />
    </head>
    <body sx-page class="bp-body transition-colors duration-300">
        <div class="bp-grid-overlay" aria-hidden="true"></div>

        <nav class="site-nav fixed w-full z-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="site-nav-shell flex justify-between items-center">
                    <a is:raw href="/" class="brand-lockup flex items-center gap-3">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 128 128"
                            width="44"
                            height="44"
                            aria-hidden="true"
                        >
                            <defs>
                                <linearGradient id="spruceBlueprint" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" stop-color="#6bd0ff" />
                                    <stop offset="100%" stop-color="#0f77d8" />
                                </linearGradient>
                            </defs>
                            <path
                                d="M64 16 L82 42 L74 42 L90 64 L80 64 L94 88 L34 88 L48 64 L38 64 L54 42 L46 42 Z"
                                fill="none"
                                stroke="url(#spruceBlueprint)"
                                stroke-width="6"
                                stroke-linejoin="round"
                            />
                            <line
                                x1="22"
                                y1="106"
                                x2="106"
                                y2="106"
                                stroke="url(#spruceBlueprint)"
                                stroke-width="4"
                                stroke-linecap="round"
                            />
                            <circle cx="64" cy="106" r="4" fill="#6bd0ff" />
                        </svg>
                        <div class="brand-copy">
                            <span class="brand-wordmark">SpruceX</span>
                            <span class="brand-subtitle">Reactive Blueprint Framework</span>
                        </div>
                    </a>

                    <div class="flex items-center gap-2 sm:gap-3">
                        <button
                            is:raw
                            sx-on:click="darkMode = !darkMode"
                            class="theme-toggle"
                            aria-label="Toggle color theme"
                        >
                            <span
                                class="theme-dot"
                                sx-class="{ 'theme-dot--dark': darkMode }"
                            ></span>
                            <span
                                class="theme-label"
                                sx-text="darkMode ? 'Dark' : 'Light'"
                                >Light</span
                            >
                        </button>

                        <div class="hidden md:flex items-center gap-2 lg:gap-3">
                            <a
                                is:raw
                                href="/"
                                class="site-link"
                                >Documentation</a
                            >
                            <a
                                is:raw
                                href="/examples"
                                class="site-link"
                                >Examples</a
                            >
                            <a
                                is:raw
                                href="/dist/sprucex.js"
                                download
                                class="download-link"
                            >
                                Download
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <main class="site-main">
            <slot />
        </main>

        <footer class="site-footer">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="site-footer-shell">
                    <div class="footer-brand">
                        <span class="brand-wordmark">SpruceX</span>
                        <p class="footer-note">Blueprint-grade reactive markup tooling.</p>
                    </div>

                    <div class="footer-links">
                        <a is:raw href="#" class="footer-link">GitHub</a>
                        <a is:raw href="#" class="footer-link">Twitter</a>
                        <a is:raw href="#" class="footer-link">Discord</a>
                    </div>

                    <p class="footer-copy">Â© 2024 SpruceX. MIT License.</p>
                </div>
            </div>
        </footer>
        <script src="/prism.js" is:inline></script>
    </body>
</html>
